# インタフェースアクセサ作成ツール操作手順書

## 1. 概要

インタフェースアクセサ作成ツールは、Java クラスのフィールド定義からインタフェース用のアクセサメソッド（getter および setter）を自動生成するためのツールである。

### 主な機能

- フィールド定義からインタフェース用アクセサメソッドの自動生成
- テンプレートベースの柔軟な出力形式
- Javadoc コメントの自動付与
- 中間ファイルを経由した安全な処理
- インタフェース用メソッドシグネチャの生成（実装部分なし）

## 2. ファイル配置

### 2.1 ディレクトリ構造

```text
kmg-tool/
├── work/io/                                    # 優先パス（開発時推奨）
│   ├── input.txt                               # 入力ファイル
│   ├── output.txt                              # 出力ファイル
│   └── template/
│       └── InterfaceAccessorCreationTool.yml   # テンプレートファイル
└── src/main/resources/tool/io/                 # 代替パス
    ├── input.txt                               # 入力ファイル
    ├── output.txt                              # 出力ファイル
    └── template/
        └── InterfaceAccessorCreationTool.yml   # テンプレートファイル
```

### 2.2 ファイルパスの優先順位

1. **優先パス**: `work/io/` ディレクトリが存在する場合
2. **代替パス**: `work/io/` ディレクトリが存在しない場合、`src/main/resources/tool/io/` を使用

## 3. 入力ファイルの準備

### 3.1 入力ファイル形式

入力ファイル（`input.txt`）は Java フィールド定義形式でフィールド定義を記述する：

```text
/** フィールドのコメント */
アクセス修飾子 データ型 フィールド名;
```

### 3.2 入力ファイル例

```text
/** フィールドのコメント */
private String comment;

/** フィールド名 */
private String field;

/** フィールドの型 */
private String type;
```

### 3.3 入力ファイルの注意事項

- Javadoc コメント（`/** */`）でフィールドの説明を記述する
- データ型は完全修飾名または短縮名で記述可能である
- フィールド名はキャメルケースで記述する
- セミコロン（`;`）で終了する
- 空行は無視される
- アクセス修飾子（private、protected、public など）は処理時に除去される

## 4. テンプレートファイルの設定

### 4.1 テンプレートファイルの場所

- **優先パス**: `work/io/template/InterfaceAccessorCreationTool.yml`
- **代替パス**: `src/main/resources/tool/io/template/InterfaceAccessorCreationTool.yml`

### 4.2 テンプレートファイルの設定方法

テンプレートファイルの詳細な構造や設定方法については、実際のテンプレートファイル（`InterfaceAccessorCreationTool.yml`）を参照してください。テンプレートファイルには、プレースホルダーの定義やテンプレート内容の設定方法が記載されています。

## 5. 実行手順

### 5.1 基本的な実行方法

1. **入力ファイルの準備**

   ```bash
   # work/ioディレクトリを作成（存在しない場合）
   mkdir -p work/io

   # 入力ファイルを作成
   cat > work/io/input.txt << 'EOF'
   /** フィールドのコメント */
   private String comment;

   /** フィールド名 */
   private String field;

   /** フィールドの型 */
   private String type;
   EOF
   ```

2. **テンプレートファイルの配置**

   ```bash
   # テンプレートディレクトリを作成
   mkdir -p work/io/template

   # テンプレートファイルをコピー
   cp src/main/resources/tool/io/template/InterfaceAccessorCreationTool.yml work/io/template/
   ```

3. **ツールの実行**

   ```bash
   # Mavenを使用して実行
   mvn exec:java -Dexec.mainClass="kmg.tool.ifacccrt.presentation.ul.cli.InterfaceAccessorCreationTool"

   # または、JARファイルから実行
   java -cp target/classes:target/dependency/* kmg.tool.ifacccrt.presentation.ul.cli.InterfaceAccessorCreationTool
   ```

### 5.2 コマンドライン引数

現在のバージョンでは、コマンドライン引数は使用されない。ファイルパスは自動的に決定される。

### 5.3 実行時のログ出力

実行時には以下のようなログが出力される：

```text
[INFO] インタフェースのアクセサ作成ツール開始
[INFO] 入力ファイル: work/io/input.txt
[INFO] テンプレートファイル: work/io/template/InterfaceAccessorCreationTool.yml
[INFO] 出力ファイル: work/io/output.txt
[INFO] 処理完了: 3件のフィールドを処理しました
[INFO] インタフェースのアクセサ作成ツール終了
```

## 6. 出力ファイルの確認

### 6.1 出力ファイルの場所

- **優先パス**: `work/io/output.txt`
- **代替パス**: `src/main/resources/tool/io/output.txt`

### 6.2 出力例

入力ファイルの例に対して、以下のようなインタフェース用アクセサメソッドが生成される：

```java
/**
 * フィールドのコメントを設定する<br>
 * @author KenichiroArai
 * @sine 0.1.0
 * @param comment フィールドのコメント
 */
void setComment(String comment);

/**
 * フィールドのコメントを返す<br>
 * @author KenichiroArai
 * @sine 0.1.0
 * @return フィールドのコメント
 */
String getComment();

/**
 * フィールド名を設定する<br>
 * @author KenichiroArai
 * @sine 0.1.0
 * @param field フィールド名
 */
void setField(String field);

/**
 * フィールド名を返す<br>
 * @author KenichiroArai
 * @sine 0.1.0
 * @return フィールド名
 */
String getField();

/**
 * フィールドの型を設定する<br>
 * @author KenichiroArai
 * @sine 0.1.0
 * @param type フィールドの型
 */
void setType(String type);

/**
 * フィールドの型を返す<br>
 * @author KenichiroArai
 * @sine 0.1.0
 * @return フィールドの型
 */
String getType();
```
